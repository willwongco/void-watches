{% doc %}
  @prompt
    Create a comparison chart with 6 columns. At the top of each column should be an image. Below the image a text line and a call to action button. Below this there should be 4-6 lines of text. On mobile it should be horizontal and scrollable left to right. Also add a centered heading at the top of the section.
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-comparison-chart-{{ ai_gen_id }} {
    padding: 40px 0;
  }

  .ai-comparison-chart__heading-{{ ai_gen_id }} {
    text-align: center;
    margin-bottom: 40px;
    font-size: {{ block.settings.heading_size }}px;
    color: {{ block.settings.heading_color }};
  }

  .ai-comparison-chart__container-{{ ai_gen_id }} {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: {{ block.settings.scrollbar_color }} transparent;
  }

  .ai-comparison-chart__container-{{ ai_gen_id }}::-webkit-scrollbar {
    height: 6px;
  }

  .ai-comparison-chart__container-{{ ai_gen_id }}::-webkit-scrollbar-track {
    background: transparent;
  }

  .ai-comparison-chart__container-{{ ai_gen_id }}::-webkit-scrollbar-thumb {
    background-color: {{ block.settings.scrollbar_color }};
    border-radius: 3px;
  }

  .ai-comparison-chart__grid-{{ ai_gen_id }} {
    display: flex;
    gap: {{ block.settings.column_gap }}px;
    min-width: fit-content;
    padding: 0 20px;
  }

  .ai-comparison-chart__column-{{ ai_gen_id }} {
    flex: 0 0 {{ block.settings.column_width }}px;
    background-color: {{ block.settings.column_bg_color }};
    border: {{ block.settings.column_border_width }}px solid {{ block.settings.column_border_color }};
    border-radius: {{ block.settings.column_border_radius }}px;
    padding: {{ block.settings.column_padding }}px;
    text-align: center;
    box-shadow: {{ block.settings.column_shadow_enabled | default: false | json }} ? '0 4px 12px rgba(0, 0, 0, 0.1)' : 'none';
  }

  .ai-comparison-chart__image-wrapper-{{ ai_gen_id }} {
    margin-bottom: 20px;
    height: {{ block.settings.image_height }}px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-comparison-chart__image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-comparison-chart__image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-comparison-chart__image-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }

  .ai-comparison-chart__title-{{ ai_gen_id }} {
    font-size: {{ block.settings.title_size }}px;
    font-weight: 600;
    color: {{ block.settings.title_color }};
    margin-bottom: 15px;
    line-height: 1.3;
  }

  .ai-comparison-chart__button-{{ ai_gen_id }} {
    display: inline-block;
    padding: 12px 24px;
    background-color: {{ block.settings.button_bg_color }};
    color: {{ block.settings.button_text_color }};
    text-decoration: none;
    border-radius: {{ block.settings.button_border_radius }}px;
    font-size: {{ block.settings.button_font_size }}px;
    font-weight: 600;
    margin-bottom: 20px;
    transition: all 0.3s ease;
    border: {{ block.settings.button_border_width }}px solid {{ block.settings.button_border_color }};
  }

  .ai-comparison-chart__button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.button_hover_bg_color }};
    color: {{ block.settings.button_hover_text_color }};
    border-color: {{ block.settings.button_hover_border_color }};
  }

  .ai-comparison-chart__features-{{ ai_gen_id }} {
    text-align: left;
  }

  .ai-comparison-chart__feature-{{ ai_gen_id }} {
    font-size: {{ block.settings.feature_font_size }}px;
    color: {{ block.settings.feature_text_color }};
    margin-bottom: 8px;
    line-height: 1.4;
    padding-left: 20px;
    position: relative;
  }

  .ai-comparison-chart__feature-{{ ai_gen_id }}:before {
    content: "â€¢";
    color: {{ block.settings.bullet_color }};
    position: absolute;
    left: 0;
    font-weight: bold;
  }

  .ai-comparison-chart__feature-{{ ai_gen_id }}:last-child {
    margin-bottom: 0;
  }

  @media screen and (min-width: 750px) {
    .ai-comparison-chart__container-{{ ai_gen_id }} {
      overflow-x: visible;
    }

    .ai-comparison-chart__grid-{{ ai_gen_id }} {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: {{ block.settings.column_gap }}px;
      padding: 0;
    }

    .ai-comparison-chart__column-{{ ai_gen_id }} {
      flex: none;
      width: auto;
    }
  }

  @media screen and (max-width: 749px) {
    .ai-comparison-chart__column-{{ ai_gen_id }} {
      min-width: {{ block.settings.mobile_column_width }}px;
    }
  }
{% endstyle %}

<div class="ai-comparison-chart-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  {% if block.settings.heading != blank %}
    <h2 class="ai-comparison-chart__heading-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
  {% endif %}

  <div class="ai-comparison-chart__container-{{ ai_gen_id }}">
    <div class="ai-comparison-chart__grid-{{ ai_gen_id }}">
      {% for i in (1..6) %}
        {% liquid
          assign image_key = 'column_' | append: i | append: '_image'
          assign title_key = 'column_' | append: i | append: '_title'
          assign button_text_key = 'column_' | append: i | append: '_button_text'
          assign button_url_key = 'column_' | append: i | append: '_button_url'
          assign feature_1_key = 'column_' | append: i | append: '_feature_1'
          assign feature_2_key = 'column_' | append: i | append: '_feature_2'
          assign feature_3_key = 'column_' | append: i | append: '_feature_3'
          assign feature_4_key = 'column_' | append: i | append: '_feature_4'
          assign feature_5_key = 'column_' | append: i | append: '_feature_5'
          assign feature_6_key = 'column_' | append: i | append: '_feature_6'

          assign image = block.settings[image_key]
          assign title = block.settings[title_key]
          assign button_text = block.settings[button_text_key]
          assign button_url = block.settings[button_url_key]
          assign feature_1 = block.settings[feature_1_key]
          assign feature_2 = block.settings[feature_2_key]
          assign feature_3 = block.settings[feature_3_key]
          assign feature_4 = block.settings[feature_4_key]
          assign feature_5 = block.settings[feature_5_key]
          assign feature_6 = block.settings[feature_6_key]
        %}

        <div class="ai-comparison-chart__column-{{ ai_gen_id }}">
          <div class="ai-comparison-chart__image-wrapper-{{ ai_gen_id }}">
            {% if image %}
              <img
                src="{{ image | image_url: width: 400 }}"
                alt="{{ image.alt | escape }}"
                class="ai-comparison-chart__image-{{ ai_gen_id }}"
                loading="lazy"
                width="400"
                height="{{ block.settings.image_height }}"
              >
            {% else %}
              <div class="ai-comparison-chart__image-placeholder-{{ ai_gen_id }}">
                {{ 'image' | placeholder_svg_tag }}
              </div>
            {% endif %}
          </div>

          {% if title != blank %}
            <h3 class="ai-comparison-chart__title-{{ ai_gen_id }}">{{ title }}</h3>
          {% endif %}

          {% if button_text != blank %}
            <a
              href="{{ button_url | default: '#' }}"
              class="ai-comparison-chart__button-{{ ai_gen_id }}"
            >
              {{ button_text }}
            </a>
          {% endif %}

          <div class="ai-comparison-chart__features-{{ ai_gen_id }}">
            {% if feature_1 != blank %}
              <div class="ai-comparison-chart__feature-{{ ai_gen_id }}">{{ feature_1 }}</div>
            {% endif %}
            {% if feature_2 != blank %}
              <div class="ai-comparison-chart__feature-{{ ai_gen_id }}">{{ feature_2 }}</div>
            {% endif %}
            {% if feature_3 != blank %}
              <div class="ai-comparison-chart__feature-{{ ai_gen_id }}">{{ feature_3 }}</div>
            {% endif %}
            {% if feature_4 != blank %}
              <div class="ai-comparison-chart__feature-{{ ai_gen_id }}">{{ feature_4 }}</div>
            {% endif %}
            {% if feature_5 != blank %}
              <div class="ai-comparison-chart__feature-{{ ai_gen_id }}">{{ feature_5 }}</div>
            {% endif %}
            {% if feature_6 != blank %}
              <div class="ai-comparison-chart__feature-{{ ai_gen_id }}">{{ feature_6 }}</div>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Comparison chart",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Heading"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Compare our products"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 32
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "column_width",
      "min": 200,
      "max": 400,
      "step": 20,
      "unit": "px",
      "label": "Column width (desktop)",
      "default": 280
    },
    {
      "type": "range",
      "id": "mobile_column_width",
      "min": 200,
      "max": 320,
      "step": 20,
      "unit": "px",
      "label": "Column width (mobile)",
      "default": 260
    },
    {
      "type": "range",
      "id": "column_gap",
      "min": 10,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Column spacing",
      "default": 20
    },
    {
      "type": "range",
      "id": "column_padding",
      "min": 15,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Column padding",
      "default": 25
    },
    {
      "type": "header",
      "content": "Column style"
    },
    {
      "type": "color",
      "id": "column_bg_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "column_border_color",
      "label": "Border color",
      "default": "#e6e6e6"
    },
    {
      "type": "range",
      "id": "column_border_width",
      "min": 0,
      "max": 4,
      "step": 1,
      "unit": "px",
      "label": "Border width",
      "default": 1
    },
    {
      "type": "range",
      "id": "column_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 8
    },
    {
      "type": "checkbox",
      "id": "column_shadow_enabled",
      "label": "Enable shadow",
      "default": true
    },
    {
      "type": "header",
      "content": "Images"
    },
    {
      "type": "range",
      "id": "image_height",
      "min": 100,
      "max": 300,
      "step": 20,
      "unit": "px",
      "label": "Image height",
      "default": 180
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Image border radius",
      "default": 4
    },
    {
      "type": "header",
      "content": "Titles"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Title size",
      "default": 18
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Buttons"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Background color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_hover_bg_color",
      "label": "Hover background color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "button_hover_text_color",
      "label": "Hover text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_border_color",
      "label": "Border color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_hover_border_color",
      "label": "Hover border color",
      "default": "#333333"
    },
    {
      "type": "range",
      "id": "button_border_width",
      "min": 0,
      "max": 3,
      "step": 1,
      "unit": "px",
      "label": "Border width",
      "default": 0
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 25,
      "step": 1,
      "unit": "px",
      "label": "Border radius",
      "default": 4
    },
    {
      "type": "range",
      "id": "button_font_size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 14
    },
    {
      "type": "header",
      "content": "Features"
    },
    {
      "type": "range",
      "id": "feature_font_size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 14
    },
    {
      "type": "color",
      "id": "feature_text_color",
      "label": "Text color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "bullet_color",
      "label": "Bullet color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Mobile scrollbar"
    },
    {
      "type": "color",
      "id": "scrollbar_color",
      "label": "Scrollbar color",
      "default": "#cccccc"
    },
    {
      "type": "header",
      "content": "Column 1"
    },
    {
      "type": "image_picker",
      "id": "column_1_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "column_1_title",
      "label": "Title",
      "default": "Product 1"
    },
    {
      "type": "text",
      "id": "column_1_button_text",
      "label": "Button text",
      "default": "Learn more"
    },
    {
      "type": "url",
      "id": "column_1_button_url",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "column_1_feature_1",
      "label": "Feature 1",
      "default": "Premium quality materials"
    },
    {
      "type": "text",
      "id": "column_1_feature_2",
      "label": "Feature 2",
      "default": "2-year warranty"
    },
    {
      "type": "text",
      "id": "column_1_feature_3",
      "label": "Feature 3",
      "default": "Free shipping"
    },
    {
      "type": "text",
      "id": "column_1_feature_4",
      "label": "Feature 4",
      "default": "24/7 support"
    },
    {
      "type": "text",
      "id": "column_1_feature_5",
      "label": "Feature 5"
    },
    {
      "type": "text",
      "id": "column_1_feature_6",
      "label": "Feature 6"
    },
    {
      "type": "header",
      "content": "Column 2"
    },
    {
      "type": "image_picker",
      "id": "column_2_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "column_2_title",
      "label": "Title",
      "default": "Product 2"
    },
    {
      "type": "text",
      "id": "column_2_button_text",
      "label": "Button text",
      "default": "Learn more"
    },
    {
      "type": "url",
      "id": "column_2_button_url",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "column_2_feature_1",
      "label": "Feature 1",
      "default": "Advanced technology"
    },
    {
      "type": "text",
      "id": "column_2_feature_2",
      "label": "Feature 2",
      "default": "3-year warranty"
    },
    {
      "type": "text",
      "id": "column_2_feature_3",
      "label": "Feature 3",
      "default": "Express shipping"
    },
    {
      "type": "text",
      "id": "column_2_feature_4",
      "label": "Feature 4",
      "default": "Priority support"
    },
    {
      "type": "text",
      "id": "column_2_feature_5",
      "label": "Feature 5"
    },
    {
      "type": "text",
      "id": "column_2_feature_6",
      "label": "Feature 6"
    },
    {
      "type": "header",
      "content": "Column 3"
    },
    {
      "type": "image_picker",
      "id": "column_3_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "column_3_title",
      "label": "Title",
      "default": "Product 3"
    },
    {
      "type": "text",
      "id": "column_3_button_text",
      "label": "Button text",
      "default": "Learn more"
    },
    {
      "type": "url",
      "id": "column_3_button_url",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "column_3_feature_1",
      "label": "Feature 1",
      "default": "Eco-friendly design"
    },
    {
      "type": "text",
      "id": "column_3_feature_2",
      "label": "Feature 2",
      "default": "Lifetime warranty"
    },
    {
      "type": "text",
      "id": "column_3_feature_3",
      "label": "Feature 3",
      "default": "Carbon neutral shipping"
    },
    {
      "type": "text",
      "id": "column_3_feature_4",
      "label": "Feature 4",
      "default": "Expert consultation"
    },
    {
      "type": "text",
      "id": "column_3_feature_5",
      "label": "Feature 5"
    },
    {
      "type": "text",
      "id": "column_3_feature_6",
      "label": "Feature 6"
    },
    {
      "type": "header",
      "content": "Column 4"
    },
    {
      "type": "image_picker",
      "id": "column_4_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "column_4_title",
      "label": "Title",
      "default": "Product 4"
    },
    {
      "type": "text",
      "id": "column_4_button_text",
      "label": "Button text",
      "default": "Learn more"
    },
    {
      "type": "url",
      "id": "column_4_button_url",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "column_4_feature_1",
      "label": "Feature 1",
      "default": "Compact design"
    },
    {
      "type": "text",
      "id": "column_4_feature_2",
      "label": "Feature 2",
      "default": "1-year warranty"
    },
    {
      "type": "text",
      "id": "column_4_feature_3",
      "label": "Feature 3",
      "default": "Standard shipping"
    },
    {
      "type": "text",
      "id": "column_4_feature_4",
      "label": "Feature 4",
      "default": "Email support"
    },
    {
      "type": "text",
      "id": "column_4_feature_5",
      "label": "Feature 5"
    },
    {
      "type": "text",
      "id": "column_4_feature_6",
      "label": "Feature 6"
    },
    {
      "type": "header",
      "content": "Column 5"
    },
    {
      "type": "image_picker",
      "id": "column_5_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "column_5_title",
      "label": "Title",
      "default": "Product 5"
    },
    {
      "type": "text",
      "id": "column_5_button_text",
      "label": "Button text",
      "default": "Learn more"
    },
    {
      "type": "url",
      "id": "column_5_button_url",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "column_5_feature_1",
      "label": "Feature 1",
      "default": "Professional grade"
    },
    {
      "type": "text",
      "id": "column_5_feature_2",
      "label": "Feature 2",
      "default": "5-year warranty"
    },
    {
      "type": "text",
      "id": "column_5_feature_3",
      "label": "Feature 3",
      "default": "White glove delivery"
    },
    {
      "type": "text",
      "id": "column_5_feature_4",
      "label": "Feature 4",
      "default": "Dedicated account manager"
    },
    {
      "type": "text",
      "id": "column_5_feature_5",
      "label": "Feature 5"
    },
    {
      "type": "text",
      "id": "column_5_feature_6",
      "label": "Feature 6"
    },
    {
      "type": "header",
      "content": "Column 6"
    },
    {
      "type": "image_picker",
      "id": "column_6_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "column_6_title",
      "label": "Title",
      "default": "Product 6"
    },
    {
      "type": "text",
      "id": "column_6_button_text",
      "label": "Button text",
      "default": "Learn more"
    },
    {
      "type": "url",
      "id": "column_6_button_url",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "column_6_feature_1",
      "label": "Feature 1",
      "default": "Custom configuration"
    },
    {
      "type": "text",
      "id": "column_6_feature_2",
      "label": "Feature 2",
      "default": "Extended warranty"
    },
    {
      "type": "text",
      "id": "column_6_feature_3",
      "label": "Feature 3",
      "default": "Installation included"
    },
    {
      "type": "text",
      "id": "column_6_feature_4",
      "label": "Feature 4",
      "default": "Training included"
    },
    {
      "type": "text",
      "id": "column_6_feature_5",
      "label": "Feature 5"
    },
    {
      "type": "text",
      "id": "column_6_feature_6",
      "label": "Feature 6"
    }
  ],
  "presets": [
    {
      "name": "Comparison chart"
    }
  ]
}
{% endschema %}