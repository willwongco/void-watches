{% doc %}
  @prompt
    I want one row with three icons. Each icon should have text on the right. I want to be able to either chose shopifys default icons or upload my own. Icon size and text size should be editable. Padding should be editable., The icons should be in one horizontal row., The icons are not showing.
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-icon-row-{{ ai_gen_id }} {
    padding: {{ block.settings.padding }}px;
  }

  .ai-icon-row__container-{{ ai_gen_id }} {
    display: flex;
    flex-wrap: nowrap;
    gap: 24px;
    align-items: center;
    justify-content: center;
  }

  .ai-icon-row__item-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    gap: 12px;
    flex: 1 1 0;
  }

  .ai-icon-row__icon-wrapper-{{ ai_gen_id }} {
    flex-shrink: 0;
    width: {{ block.settings.icon_size }}px;
    height: {{ block.settings.icon_size }}px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-icon-row__icon-wrapper-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
  }

  .ai-icon-row__icon-wrapper-{{ ai_gen_id }} img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .ai-icon-row__text-{{ ai_gen_id }} {
    font-size: {{ block.settings.text_size }}px;
    line-height: 1.4;
  }

  @media screen and (max-width: 749px) {
    .ai-icon-row__container-{{ ai_gen_id }} {
      flex-wrap: wrap;
    }

    .ai-icon-row__item-{{ ai_gen_id }} {
      flex: 1 1 100%;
    }
  }
{% endstyle %}

<div class="ai-icon-row-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-icon-row__container-{{ ai_gen_id }}">
    {% for i in (1..3) %}
      {% liquid
        assign icon_type_key = 'icon_' | append: i | append: '_type'
        assign shopify_icon_key = 'icon_' | append: i | append: '_shopify'
        assign custom_icon_key = 'icon_' | append: i | append: '_custom'
        assign text_key = 'icon_' | append: i | append: '_text'

        assign icon_type = block.settings[icon_type_key]
        assign shopify_icon = block.settings[shopify_icon_key]
        assign custom_icon = block.settings[custom_icon_key]
        assign text = block.settings[text_key]
      %}

      <div class="ai-icon-row__item-{{ ai_gen_id }}">
        <div class="ai-icon-row__icon-wrapper-{{ ai_gen_id }}">
          {% if icon_type == 'custom' and custom_icon != blank %}
            <img
              src="{{ custom_icon | image_url: width: 200 }}"
              alt="{{ text | escape }}"
              loading="lazy"
              width="200"
              height="200"
            >
          {% else %}
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              {% if shopify_icon == 'checkmark' %}
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
              {% elsif shopify_icon == 'truck' %}
                <path stroke-linecap="round" stroke-linejoin="round" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0" />
              {% elsif shopify_icon == 'box' %}
                <path stroke-linecap="round" stroke-linejoin="round" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
              {% elsif shopify_icon == 'shield' %}
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
              {% elsif shopify_icon == 'heart' %}
                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
              {% elsif shopify_icon == 'star' %}
                <path stroke-linecap="round" stroke-linejoin="round" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
              {% elsif shopify_icon == 'leaf' %}
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
              {% elsif shopify_icon == 'lock' %}
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
              {% elsif shopify_icon == 'globe' %}
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              {% elsif shopify_icon == 'award' %}
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
              {% else %}
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
              {% endif %}
            </svg>
          {% endif %}
        </div>
        <div class="ai-icon-row__text-{{ ai_gen_id }}">
          {{ text }}
        </div>
      </div>
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "Icon row",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "icon_size",
      "min": 16,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Icon size",
      "default": 32
    },
    {
      "type": "range",
      "id": "text_size",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Text size",
      "default": 14
    },
    {
      "type": "header",
      "content": "Icon 1"
    },
    {
      "type": "select",
      "id": "icon_1_type",
      "label": "Icon type",
      "options": [
        {
          "value": "shopify",
          "label": "Shopify icon"
        },
        {
          "value": "custom",
          "label": "Custom image"
        }
      ],
      "default": "shopify"
    },
    {
      "type": "select",
      "id": "icon_1_shopify",
      "label": "Shopify icon",
      "options": [
        {
          "value": "checkmark",
          "label": "Checkmark"
        },
        {
          "value": "truck",
          "label": "Truck"
        },
        {
          "value": "box",
          "label": "Box"
        },
        {
          "value": "shield",
          "label": "Shield"
        },
        {
          "value": "heart",
          "label": "Heart"
        },
        {
          "value": "star",
          "label": "Star"
        },
        {
          "value": "leaf",
          "label": "Leaf"
        },
        {
          "value": "lock",
          "label": "Lock"
        },
        {
          "value": "globe",
          "label": "Globe"
        },
        {
          "value": "award",
          "label": "Award"
        }
      ],
      "default": "checkmark"
    },
    {
      "type": "image_picker",
      "id": "icon_1_custom",
      "label": "Custom icon"
    },
    {
      "type": "text",
      "id": "icon_1_text",
      "label": "Text",
      "default": "Free shipping"
    },
    {
      "type": "header",
      "content": "Icon 2"
    },
    {
      "type": "select",
      "id": "icon_2_type",
      "label": "Icon type",
      "options": [
        {
          "value": "shopify",
          "label": "Shopify icon"
        },
        {
          "value": "custom",
          "label": "Custom image"
        }
      ],
      "default": "shopify"
    },
    {
      "type": "select",
      "id": "icon_2_shopify",
      "label": "Shopify icon",
      "options": [
        {
          "value": "checkmark",
          "label": "Checkmark"
        },
        {
          "value": "truck",
          "label": "Truck"
        },
        {
          "value": "box",
          "label": "Box"
        },
        {
          "value": "shield",
          "label": "Shield"
        },
        {
          "value": "heart",
          "label": "Heart"
        },
        {
          "value": "star",
          "label": "Star"
        },
        {
          "value": "leaf",
          "label": "Leaf"
        },
        {
          "value": "lock",
          "label": "Lock"
        },
        {
          "value": "globe",
          "label": "Globe"
        },
        {
          "value": "award",
          "label": "Award"
        }
      ],
      "default": "shield"
    },
    {
      "type": "image_picker",
      "id": "icon_2_custom",
      "label": "Custom icon"
    },
    {
      "type": "text",
      "id": "icon_2_text",
      "label": "Text",
      "default": "Secure payment"
    },
    {
      "type": "header",
      "content": "Icon 3"
    },
    {
      "type": "select",
      "id": "icon_3_type",
      "label": "Icon type",
      "options": [
        {
          "value": "shopify",
          "label": "Shopify icon"
        },
        {
          "value": "custom",
          "label": "Custom image"
        }
      ],
      "default": "shopify"
    },
    {
      "type": "select",
      "id": "icon_3_shopify",
      "label": "Shopify icon",
      "options": [
        {
          "value": "checkmark",
          "label": "Checkmark"
        },
        {
          "value": "truck",
          "label": "Truck"
        },
        {
          "value": "box",
          "label": "Box"
        },
        {
          "value": "shield",
          "label": "Shield"
        },
        {
          "value": "heart",
          "label": "Heart"
        },
        {
          "value": "star",
          "label": "Star"
        },
        {
          "value": "leaf",
          "label": "Leaf"
        },
        {
          "value": "lock",
          "label": "Lock"
        },
        {
          "value": "globe",
          "label": "Globe"
        },
        {
          "value": "award",
          "label": "Award"
        }
      ],
      "default": "box"
    },
    {
      "type": "image_picker",
      "id": "icon_3_custom",
      "label": "Custom icon"
    },
    {
      "type": "text",
      "id": "icon_3_text",
      "label": "Text",
      "default": "Easy returns"
    }
  ],
  "presets": [
    {
      "name": "Icon row"
    }
  ]
}
{% endschema %}